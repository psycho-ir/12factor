## ۴. سرویسهای پشتی
### با سرویسهای پشتی همانند منابع متصل برخورد کنید.

یک *سرویس پشتی* میتواند هر سرویسی باشد که برنامه برای انجام  بخشی از وظایفش نیاز به ارتباط با آن بر بستر شبکه دارد. مثالهایی از قبیل پایگاههای داده ها (مانند [MySQL](http://dev.mysql.com/) یا [CouchDB](http://couchdb.apache.org/))، سیستمهای صف / پیام رسانی (مانند [RabbitMQ](http://www.rabbitmq.com/) یا [Beanstalkd](http://kr.github.com/beanstalkd/))، سرویسهای SMTP (مانند [Postfix](http://www.postfix.org/))، و سیستمهای کش ( مانند [Memcached](http://memcached.org/)) از این قبیل سرویسها هستند.
.

سرویسهای پشتی مانند پایگاه‌های داده‌ها به طور مرسوم توسط افرادی راهبری میشود که وظیفه استقرار برنامه‌ها را بر عهده دارند. در کنار این سرویس‌ها که به صورت محلی (local) راهبری می‌شوند سرویسهایی نیز وجود دارند که توسط شرکتهای دیگر ارایه و مدیریت می‌شوند. مثالهایی از قبیل سرویس SMTP (مانند [Postmark](http://postmarkapp.com/))، سرویس‌های جمع‌آوری متریک (مانند [New Relic](http://newrelic.com/) یا [Loggly](http://www.loggly.com/))، سرویسهای ذخیره سازی (مانند [Amazon S3](http://aws.amazon.com/s3/))، و یا حتی سرویس‌های مصرفی که از طریق API قابل دسترس هستند (مانند [Twitter](http://dev.twitter.com/), [Google Maps](https://developers.google.com/maps/), یا [Last.fm](http://www.last.fm/api)) از این قبیل سرویسها هستند.

**کد‌های یک app که قواعد ۱۲گانه را رعایت کرده است نباید هیچ تفاوتی بین سرویس‌های محلی(local) و سرویس‌های فراهم شده توسط دیگران(third party) قائل شود.**از نظر app، هر دو منابعی متصل هستند، که از طریق URL یا راه‌های دستیابی دیگر در [کانفیگ](./config) مشخص شده‌اند. در یک نسخه‌ی دپلوی شده از appای که قواعد ۱۲گانه را رعایت کرده است باید بتوان به عنوان مثال یک دیتابیس MySQL محلی(local) را با یک سرویس خارجی(یک سرویس 3rd party مثلا مثل[Amazon RDS](http://aws.amazon.com/rds/) ) جایگزین کرد بدون اینکه کد تغییری بکند یا یک سرویس SMTP محلی با یک سرویس خارجی (مثل Postmark) جایگزین شود باز هم بدون تغییر کد.در هر دو حالت فقط باید لازم باشد که کانفیگ app تغییر کند.

هر کدام از این سرویس‌های پشتی یک *منبع* هست.برای مثال، یک دیتابیس MySQL  یک منبع است در حالی که دو دیتابیس MySQL (که برای [sharding](https://en.wikipedia.org/wiki/Shard_(database_architecture%29)  در لایه application استفاده شده است) به عنوان دو منبع جداگانه شناخته می‌شود.appای که قواعد ۱۲گانه را رعایت کرده باشد با این دو دیتابیس مثل *منابع متصل* رفتار می‌کند، که موجب عدم وابستگی به دپلویی است که به آن متصل بوده‌اند.


<img src="/images/attached-resources.png" class="full" alt="یک دپلوی پروداکشن که به ۴ سرویس پشتی متصل است" />


منابع می‌توانند متناسب نیاز به دپلوی‌ها متصل یا از آنها جدا(detached) شوند.به عنوان مثال، اگر دیتابیسِ app به دلیل مشکل سخت‌افزاری رفتار نادرستی نشان دهد، مدیر سیستمم باید بتواند یک دیتابیس جدید ایجاد کند، آخرین
