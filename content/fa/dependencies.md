## II. وابستگی‌ها
### صراحتا وابستگی‌ها رو مشخص کنید و آنها را ایزوله نگه دارید

بیشتر زبان‌های برنامه‌نویسی یک مکانیزم پکیج کردن یا بسته‌بندی کردن فراهم می‌کنند که برنامه‌نویسان بتوانند کتابخانه‌هاشون رو منتشر کنند، مثلا [CPAN](http://www.cpan.org/) برای زبان پرل یا [Rubygems](http://rubygems.org/) برای زبان روبی. کتابخانه‌هایی که توسط این سیستم پکیچینگ نصب می‌شوند می‌توانند به شکل system-wide باشند  (به نام "site packages" هم گفته می‌شود) یا اینکه به طور محدود فقط برای یک app بخصوص در دسترس باشد(به این حالت vendoring یا bundling می‌گویند)

** یک app مطابق قواعد ۱۲گانه هرگز نباید به صورت تلویجی به وجود یک پکیج(یا کتابخانه) system-wide متکی باشد **، در عوض باید وابستگی‌هایش را دقیقا و تماما به وسیله‌ی یک سند ا*علام وابستگی* مشخص کند، علاوه بر این، باید از یک ابزار مناسب جهت *ایزوله کردن وابستگی‌ها* هم استفاده کند تا اطمینان حاصل شود که هیچ وابستگی به طور ضمنی از سیستمی که app روی آن دپلوی شده تامین نمی‌شود.(م. مثلا تصور کنید که app روی یک سروری دپلوی شده و خوب کار میکنه اما روی سرور دوم بعد از دپلوی درست کار نمی‌کند چراکه در سرور اول علاوه بر وابستگی‌هایی که اعلام شده و نصب شده از یک سری وابستگی‌های تلویحی دیگه مثل پکیج‌های system-wide هم استفاده می‌کند این دقیقا مشکل درست ایزوله نکردن است).وابستگی‌ها باید کامل و دقیق مطابق جزئیاتی که صراحتا اعلام شده به طور یکسان در محیط پروداکشن و توسعه اعمال شود.


به عنوان مثال، [Bundler](https://bundler.io/)  برای روبی یک فرمت مانیفیست برای مشخص کردن وابستگی‌ها و نیازمندی‌های app به نام  `Gemfile` دارد و همچنین `bundle exec` را هم فراهم کرده برای ایجاد محیط ایزوله برای وابستگی‌ها. در Python دو نوع ابزار مختلف برای این کار وجود دارد -- [Pip](http://www.pip-installer.org/en/latest/) برای اعلام نیازمندی‌ها و وابستگی‌ها(م. pip برای نصب وابستگی‌ها استفاده می‌شود و وابستگی‌ها از طریق فایل requirements.txt مشخص می‌شوند ) و [Virtualenv](http://www.virtualenv.org/en/latest/) برای ایجاد محیط ایزوله. حتی زبان C هم [Autoconf](http://www.gnu.org/s/autoconf/) دارد برای مشخص کردن وابستگی‌ها و قابلیت static linking هم مسئله‌ی ایزوله نگه‌داشتن وابستگی‌ها را انجام می‌دهد. صرفنظر از اینکه چه جعبه‌ابزاری دارید، برای احراز شرایط و اصول قواعد ۱۲گانه باید حتما هر دو مورد اعلام وابستگی‌ها و ایزوله کردن وابستگی‌ها را با هم انجام بدید -- فقط یکی از اون‌ها کفایت نمیکنه باید هر دو حتما باشند.

یکی از نکات مثبت صریح قید کردن وابستگی‌ها  این است که نصب و راه‌اندازی app برای برنامه‌نویسانی که به تازگی با به app پیوستند خیلی ساده می‌شود.برنامه‌نویس تازه‌وارد می‌تواند کدبیس را روی  روی سیستمی که با آن کار می‌کند به سادگی checkout کند و فقط باید ابزار‌های زبان و مدیریت dependency را نصب داشته باشد.در این صورت آنها می‌توانند با یک *دستور نصب* مشخص همه‌ی نیازمندی‌ها را نصب کنند.(م. در نقطه مقابل تصور کنید که اگر وابستگی‌ها صراحتا قید نشده باشد، برنامه‌نویس تازه‌وارد باید لنگان لنگان وابستگی‌ها را پرس‌و‌جو، جمع‌آوری و نصب کند)به عنوان مثال،`bundle install` دستور نصب برای Ruby/Bundler است یا برای Clojure/[Leiningen](https://github.com/technomancy/leiningen#readme) باید از دستور `lein deps` استفاده کرد.

آن appهایی که قواعد ۱۲گانه را رعایت کردند نباید به طور ضمنی روی نصب بودن یک تولز سیستمی خاص حسابی باز کنند.مثلا انتظار داشتند باشند حتما `curl` یا ImageMagick نصب باشد، حتی با اینکه این ابزار‌ها انقدر عمومی هستند که روی خیلی از سیستم‌ها یا حتی اغلب سیستم‌ها نصب هستند، هیچ تضمینی وجود ندارد که این ابزار‌های خارجی رو سیستمی که در آینده app قرار است روی آن اجرا شود وجود داشته باشند یا ورژنی که روی آن سیستم نصب است با ورژن مورد نیاز app سازگار باشد. اگر app نیاز دارد از یک تولز خارجی(م. مثلا `curl`) استفاده کند باید آن تولز همراه app نصب شود.
